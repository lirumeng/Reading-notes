### 注释
> 别给糟糕的代码加注释——重新写吧。

——Brian W.Kernighan 与P.J.Plaugher

什么也比不上放置良好的注释来得有用。什么也不会比乱七八糟的注释更有本事搞乱一个模块。什么也不会比陈旧、提供错误信息的注释更有破坏性。
实际上，注释最多就是一种必须的恶。若编程语言足够有表达力，或者我们长于用这些语言表达意图，就不那么需要注释——也根本不需要。
注释的恰当用法是弥补我们在用代码表达意图时遭遇的失败。注释总是一种失败。我们总无法找到不用注释就能表达自我的方法，所以**总要有注释，这并不值得庆贺**。
如果你发现自己需要写注释，再想想看是否有办法翻盘，用代码来表达。每次用代码表达，你都该夸奖一下自己。每次写注释，你都该做个鬼脸，感受自己在表达能力上的失败。
注释存在的时间越久，就离其所描述的代码越远，越来越变得全然错误。原因是，程序员不能坚持维护注释。
程序员应当负责将注释保持在可维护、有关联、精确的高度。但我更主张把力气用在写清除代码上，直接保证无需编写注释。
不准确的注释要比没注释坏得多。它们预期的东西永不能实现。它们设定了无需也不应再遵循的旧规则。
**尽管有时也需要注释，也该花心思尽量减少注释量**。

#### 注释不能美化糟糕的代码
写注释的常见动机之一是糟糕的代码的存在。带有少量猪似的整洁而有表达力的代码，要比带有大量注释的零碎而复杂的代码像样得多。与其花时间编写解释你你搞出来的糟糕的代码的注释，不如花时间清洁那堆糟糕的代码。
#### 用代码来阐述
```
// Check to see if the employee is eligible for full benefits
if((employee.flags & HOURLY_FLAG) & (employee.age>65))
```
还是这个？
```
if(employee.isEligibleForFullBenefits())
```
只要想上那么几秒钟，就能用代码解释你大部分的意图。很多时候，简单到只需要创建一个描述与注释所言同一事物的函数即可。
#### 好注释
有些注释是必须的，值得写的，也是有利的。不过唯一好的注释是你想办法不去写注释。
##### 1. 法律信息
- 版权及著作权声明
是必须和有理由在每个源文件开头注释处放置的内容。
##### 2. 提供信息的注释
例如，解释某个抽象方法的返回值。但更好的方式是尽量利用函数名称表达信息。
##### 3. 对意图的解释
有时，注释不仅童工了有关实现的有用信息，而且还提供了某个决定后后面的意图。
##### 4. 阐释
有时，注释把某些晦涩难明的参数或返回值的意义翻译为某种可读形式。通常，更好的方法是尽量让参数或返回值资深就足够清除；但如果参数或返回值是某个标准库的一部分，或是你不能修改的代码，帮助阐释其含义的代码就会有用。
当然，这也会冒阐释性注释本身就是不正确的风险。所以在写这类注释之前，考虑一下是否还有更好的方法，然后再加倍小心地确认注释正确性。
##### 5. 警示
有时，用于警告其他程序员会出现某种后果的注释也是有用的。
##### 6. TODO注释
TODO是一种程序员认为应该做，但由于某些原因目前还没做的工作。它可能是要提醒删除某个不必要的特性，或者要求他人注意某个问题。它可能是恳请别人取个好名字，或者提示对依赖于某个计划事件的修改。无论TODO的目的如何，它都不是在系统中留下糟糕代码的借口。定期查看，删除不再需要的注释。
##### 7. 放大
注释可以用来放大某种看起来不合理之物的重要性。
##### 8. 公共API中的Javadoc
#### 坏注释
大多数注释都属于此类。通常，坏注释都是糟糕的代码的支撑或借口，或者对错误决策的修正，基本上等于程序员自说自话。
- 喃喃自语
如果只是因为你觉得应该或者因为过程需要就添加注释，那就是无畏之举。
- 多余的注释
- 误导性注释
- 循轨式注释
- 日志式注释。有人会在每次编辑代码时，在模块开始处添加一条注释。这类注释就像是一种记录每次修改的日志。
- 废话注释。与其纠缠于毫无价值的废话注释，程序员应该意识到，他的挫败感可以由改进代码结构而消除。
- 


