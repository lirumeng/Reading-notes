### 整洁代码
#### 糟糕的代码
为什么要写糟糕的代码？
是想快点完成？是要赶时间？有可能。或许你觉得自己要干好所需时间不够；假使花时间清理代码，老板就会大发雷霆。或许你只是不耐烦再高这套程序，期望早点结束。或许你看了看自己称若要做的其他事，意识到得赶紧弄完手上的东西，好接着做下一件工作...
我们都曾经瞟一眼自己亲手造成的混乱，决定弃之而不顾。我们都曾经看到自己的烂程序居然能运行，然后断言能运行的烂程序总比什么都没有强。我们都曾经说过有朝一日再回头清理。但是我们可能都没听过勒布朗法则：`稍后等于永不`（Later equals never）。

#### 混乱的代价
有些团队在项目初期进展迅速，单有那么一两年的时间却慢如蜗行。对代码的每次修改都影响到其他两三处代码。修改无小事。每次添加或修改代码，都得对那堆扭纹柴了然于心，这样才能往上仍更多地扭纹柴。若是这团乱麻越来越大，再也无法理清，最后束手无策。更多的混乱，会趋势生产力向零那端不断下降。

> 花时间保持代码整洁不但有关效率，还有关生存。
> 制造混乱无助于赶上期限。混乱只会立刻拖慢你。赶上期限的唯一方法——做得快的唯一方法——就是始终尽可能保持代码整洁。

#### 什么是整洁代码
Bjarn Stroustrup，C++语言发明者，C++Programming Language（中译版《C++程序设计语言》）一书作者。
> 我喜欢优雅和高效的代码。代码逻辑应当直截了当，叫缺陷难以隐藏；尽量减少依赖关系，使之便于维护；依据某种分层战略完善错误处理代码；性能调至最优，省得引诱别人做没规矩的优化，搞出一堆混乱来。整洁的代码只做好一件事。

糟糕的代码引发混乱！别人修改糟糕的代码时，往往会越改越烂。
在细节上花心思。

“整洁的代码只做好一件事”——糟糕的代码想做太多事，意图混乱，目的含混。整洁的代码力求集中。每个函数、每个类和每个模块都全神贯注于一件事，完全不受四周细节的干扰和污染。

------------------------------------------------------------------------------

Grady Booch，Object Oriented Analysis and Design with Applictions（中译版《面向对象分析与设计》）一书作者。
> 整洁的代码简单直接。整洁的代码如同优美的散文。整洁的代码从不隐藏设计者的意图，充满了干净利落的抽象和直截了当的控制语句。

整洁的代码应当明确地展现出要解决问题的张力。
“干净利落的抽象”——代码应当江苏事实，不引人猜测。它只该包含必需之物。

------------------------------------------------------------------------------

“老大” Dave Thomas，OTI公司创始人，Eclipse战略之父。
> 整洁的代码应可由作者之外的开发者阅读和增补。它应当有单元测试和验收测试。它使用有意义的命名。它只提供一种而非多种做一件事的途径。它只有尽量少的依赖关系，而且要明确地定义和提供清晰地、尽量少的API。diamante应通过其一面表达含义，因为不同的语言导致并非所有必需信息均可通过代码自身清晰表达。

没有测试的代码不干净。
用人类可读的方式来写代码。

------------------------------------------------------------------------------

Michael Feathers，Working Effectively with Legacy Code（中译版《修改代码的艺术》）一书作者。
> 我可以列出我留意到的整洁代码的所有特点，但其中一条是根本性的。整洁的代码总是看起来像是某位特别在意它的人写的。几乎没有改进的余地。代码作者什么都想到了，如果你企图改进它，总会回到原点，赞叹某人留给你的代码——全心投入的某人留下的代码。

一言以蔽之：在意。

------------------------------------------------------------------------------

Ron Jeffries，Extreme Programming Install（中译版《极限编程实施》）以及Extreme Programming Adventures in C#（中译版《C#极限编程探险》）作者。
> 近年来，我开始研究贝克的简单代码规则，差不多也都琢磨透了。简单代码，依其重要顺序：
> - 能通过所有测试；
> - 没有重复代码；
> - 体现系统中的全部设计理念；
> - 包括尽量少的实体，比如类、方法、函数等。
> 在以上诸项中，我最在意代码重复。如果同一段代码反复出险，就表示某种想法未在代码中得到良好的体现。我尽力去找出到底那是什么，然后再尽力更清晰地表达出来。
> 在我看来，有意义的命名是体现表达力的一种方式，我往往会修改好几次才会定下名字来。借助Eclipse这样的现代编码工具，重命名代价极低，所以我无所顾忌。然而，表达力还是不知体现在命名上。我也会检查对象或方法是否想做的事太多。如果对象功能太多，最好是切分为两个或多个对象。如果方法功能太多，我总是使用抽象手段重构之，从而得到一个能较为清晰地说明自身功能的方法，以及另外数个说明如何实现这一功能的方法。
> 消除重复和提高表达力让我在整洁代码方面获益良多，只要铭记这两点，改进脏代码时就会大有不同。
> ...
> 减少重复代码，提高表达力，提早构建简单抽象。这就是我写整洁代码的方法。

不要重复代码，只做一件事，表达力，小规模抽象。

------------------------------------------------------------------------------

Ward Cunningham，Wiki发明者，eXtreme Programming（极限编程）的创始人之一，Smalltalk语言和面向对象的思想领袖。所有在意代码的教父。
> 如果每个例程都让你感到深合己意，那就是整洁代码。如果代码让编程语言看起来像是专为解决那个问题而存在，就可以称之为漂亮的代码。

------------------------------------------------------------------------------
