### 函数
函数是所有程序中得第一组代码。本章将讨论如何写好函数。

#### 1. 短小
函数的第一规则是要短小，第二条规则是还要更短小。
函数到底该有多长？
- 一目了然
- 只做一件事
- 每个函数都依序把你带到下一个函数。

> 代码块和缩进

if语句、else语句、while语句等，其中的代码块应该只有一行。该行大抵应该是一个函数调用语句。这样不但能保持函数短小，而且，因为块内调用的函数拥有较具说明性的名称，从而增加了文档上的价值。
这也意味着函数不应该大到足以容纳嵌套结构。所以，函数的缩进层级不该多于一层或两层。当然，这样的函数易于阅读和理解。

#### 2. 只做一件事
过去30年以来，以下建议以不同形式一再出现：
`函数应该做一件事。做好这件事。只做这一件事。`
问题在于很难知道那件该做的事是什么。

代码清单3-3只做了一件事：
```java
public static String renderPageWithSetupsAndTeardowns(
  PageData pageData,bollean isSuite ) throws Exception {
    if(isTestPage(pageData))
      includeSetupAndTeardownPages(pageData, isSuite);
    return pageData.getHtml();
}
```
其实很容易看作是三件事：

（1）判断是否为测试页面；

（2）如果是，则容纳进设置和分拆步骤；

（3）渲染成HTML。

这三个步骤均在该函数名下的同一抽象层上。如果函数只是做了该函数名下同意抽象层上的步骤，则函数还是只做了一件事。
